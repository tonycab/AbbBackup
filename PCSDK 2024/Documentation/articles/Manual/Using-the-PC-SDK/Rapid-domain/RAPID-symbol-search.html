<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>RAPID symbol search </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="RAPID symbol search ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc">
    <meta property="docfx:tocrel" content="../../toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../images/ABBLogo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../../../articles/Introduction/GettingStarted.html" title="Introduction">Introduction</a>
                      </li>
                      <li>
                          <a href="../../../../articles/Manual/Manual-Topic.html" title="Manual">Manual</a>
                      </li>
                      <li>
                          <a href="../../../../articles/Samples/Samples-Topic.html" title="Samples">Samples</a>
                      </li>
                      <li>
                          <a href="../../../../api/index.html" title="API Reference">API Reference</a>
                      </li>
                      <li>
                          <a href="../../../../articles/releases/pc-sdk-2024-4.html" title="Releases">Releases</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../Introduction/Introduction-Topic.html" title="Introduction" class="">Introduction</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Introduction/About-creating-controller-applications.html" title="About creating controller applications" class="">About creating controller applications</a>
                          </li>
                          <li class="">
                            <a href="../../Introduction/Documentation-and-help.html" title="Documentation and help" class="">Documentation and help</a>
                          </li>
                          <li class="">
                            <a href="../../Introduction/Terminology.html" title="Terminology" class="">Terminology</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../Installation-and-development-environment/Installation-and-development-environment-Topic.html" title="Installation and development environment" class="">Installation and development environment</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Installation-and-development-environment/Installation-overview.html" title="Installation overview" class="">Installation overview</a>
                          </li>
                          <li class="">
                            <a href="../../Installation-and-development-environment/How-to-set-up-your-PC-to-communicate-with-robot.html" title="How to set up your PC to communicate with robot" class="">How to set up your PC to communicate with robot</a>
                          </li>
                          <li class="">
                            <a href="../../Installation-and-development-environment/Development-overview.html" title="Development environment" class="">Development environment</a>
                          </li>
                          <li class="">
                            <a href="../../Installation-and-development-environment/Two-development-models---virtual-and-real.html" title="Two development models - virtual and real" class="">Two development models - virtual and real</a>
                          </li>
                          <li class="">
                            <a href="../../Installation-and-development-environment/Installation-Directory.html" title="Installation Directory" class="">Installation Directory</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../Run-time-environment/Run-time-environment-Topic.html" title="Run-time environment" class="">Run-time environment</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Run-time-environment/Overview.html" title="Overview" class="">Overview</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../Run-time-environment/Running-PC-SDK-Applications/Running-PC-SDK-Applications-Topic.html" title="Running PC SDK Applications" class="">Running PC SDK Applications</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../Run-time-environment/Running-PC-SDK-Applications/Running-PC-SDK-Applications-Overview.html" title="Overview" class="">Overview</a>
                                </li>
                                <li class="">
                                  <a href="../../Run-time-environment/Running-PC-SDK-Applications/Mastership.html" title="Mastership" class="">Mastership</a>
                                </li>
                                <li class="">
                                  <a href="../../Run-time-environment/Running-PC-SDK-Applications/PC-application-configuration.html" title="PC application configuration" class="">PC application configuration</a>
                                </li>
                                <li class="">
                                  <a href="../../Run-time-environment/Running-PC-SDK-Applications/Communication-between-PC-and-Controller.html" title="Communication between PC and Controller" class="">Communication between PC and Controller</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <a href="../../Run-time-environment/Release-upgrades-and-compatibility.html" title="Release upgrades and compatibility" class="">Release upgrades and compatibility</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../Developing-Controller-applications/Developing-Controller-applications-Topic.html" title="Developing Controller applications" class="">Developing Controller applications</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Developing-Controller-applications/Developing-Controller-applications-introduction.html" title="Introduction" class="">Introduction</a>
                          </li>
                          <li class="">
                            <a href="../../Developing-Controller-applications/Analysis-and-design.html" title="Analysis and design" class="">Analysis and design</a>
                          </li>
                          <li class="">
                            <a href="../../Developing-Controller-applications/Controller-events-and-threads.html" title="Controller events and threads" class="">Controller events and threads</a>
                          </li>
                          <li class="">
                            <a href="../../Developing-Controller-applications/User-Authorization-system.html" title="User Authorization system" class="">User Authorization system</a>
                          </li>
                          <li class="">
                            <a href="../../Developing-Controller-applications/Exception-handling.html" title="Exception handling" class="">Exception handling</a>
                          </li>
                          <li class="">
                            <a href="../../Developing-Controller-applications/How-to-use-the-online-help.html" title="How to use the online help" class="">How to use the online help</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../Using-the-PC-SDK/Using-the-PC-SDK-Topic.html" title="Using the PC SDK" class="">Using the PC SDK</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Controller-API.html" title="Controller API" class="">Controller API</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Create-a-simple-PC-SDK-application.html" title="Create a simple PC SDK application" class="">Create a simple PC SDK application</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Discovery-domain.html" title="Discovery domain" class="">Discovery domain</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Accessing-the-controller.html" title="Accessing the controller" class="">Accessing the controller</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../Using-the-PC-SDK/Using-the-PC-SDK-Topic.html" title="Rapid domain" class="">Rapid domain</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../Using-the-PC-SDK/Rapid-domain/Working-with-RAPID-data.html" title="Working with RAPID data" class="">Working with RAPID data</a>
                                </li>
                                <li class="">
                                  <a href="../../Using-the-PC-SDK/Rapid-domain/Handling-arrays.html" title="Handling arrays" class="">Handling arrays</a>
                                </li>
                                <li class="">
                                  <a href="../../Using-the-PC-SDK/Rapid-domain/ReadItem-and-WriteItem-methods.html" title="ReadItem and WriteItem methods" class="">ReadItem and WriteItem methods</a>
                                </li>
                                <li class="">
                                  <a href="../../Using-the-PC-SDK/Rapid-domain/UserDefined-data.html" title="UserDefined data" class="">UserDefined data</a>
                                </li>
                                <li class="active">
                                  <a href="../../Using-the-PC-SDK/Rapid-domain/RAPID-symbol-search.html" title="RAPID symbol search" class="active">RAPID symbol search</a>
                                </li>
                                <li class="">
                                  <a href="../../Using-the-PC-SDK/Rapid-domain/Working-with-RAPID-modules-and-programs.html" title="Working with RAPID modules and programs" class="">Working with RAPID modules and programs</a>
                                </li>
                                <li class="">
                                  <a href="../../Using-the-PC-SDK/Rapid-domain/Enable-operator-response-to-RAPID-UI-instructions-from-a-PC.html" title="Enable operator response to RAPID UI-instructions from a PC" class="">Enable operator response to RAPID UI-instructions from a PC</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/IO-system-domain.html" title="I/O system domain" class="">I/O system domain</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Configuration-domain.html" title="Configuration domain" class="">Configuration domain</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Event-log-domain.html" title="Event log domain" class="">Event log domain</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Motion-domain.html" title="Motion domain" class="">Motion domain</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/File-system-domain.html" title="File system domain" class="">File system domain</a>
                          </li>
                          <li class="">
                            <a href="../../Using-the-PC-SDK/Messaging-domain.html" title="Messaging domain" class="">Messaging domain</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../Debugging-and-troubleshooting/Debugging-and-troubleshooting-Topic.html" title="Debugging and troubleshooting" class="">Debugging and troubleshooting</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Debugging-and-troubleshooting/Debugging.html" title="Debugging" class="">Debugging</a>
                          </li>
                          <li class="">
                            <a href="../../Debugging-and-troubleshooting/Troubleshooting.html" title="Troubleshooting" class="">Troubleshooting</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../Deployment-of-a-PC-SDK-application/Deployment-of-a-PC-SDK-application-Topic.html" title="Deployment of a PC SDK application" class="">Deployment of a PC SDK application</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Deployment-of-a-PC-SDK-application/Deployment-of-a-PC-SDK-application-overview.html" title="Deployment" class="">Deployment</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="RAPID-symbol-search">
<h1 id="rapid-symbol-search">RAPID symbol search</h1>

<h2 id="overview">Overview</h2>
<p>Most RAPID elements (variables, modules, tasks, records and so on) are members of a symbol table, in which their names are stored
as part of a program tree structure.</p>
<p>It is possible to search this table and get a collection of <code>RapidSymbol</code> objects, each one including the RAPID object name,
location, and type.</p>
<h2 id="search-method">Search method</h2>
<p>The search must be configured carefully, due to the large amount of RAPID symbols in a system.
To define a query you need to consider from where in the program tree the search should be performed,
which symbols are of interest, and what information you need for the symbols of interest.
To enable search from different levels, the <code>SearchRapidSymbol</code> method is a member of several different SDK classes,
for example <code>Task, Module</code> and <code>Routine</code>.</p>
<p>The following example shows a search performed with <code>Task</code> as the starting point:</p>
<pre><code class="lang-csharp">RapidSymbol[] rsCol;
rsCol = aTask.SearchRapidSymbol(sProp, &quot;num&quot;, string.Empty);
</code></pre>
<p>The <code>SearchRapidSymbol</code> method has three arguments. The first argument, of data type <code>RapidSymbolSearchProperties</code>, is detailed in
the next section. The second and third arguments are detailed in the following sections.</p>
<h2 id="search-properties">Search properties</h2>
<p>The <code>RapidSymbolSearchProperties</code> type is complex and requires some knowledge about RAPID concepts.</p>
<p>It is used to specify search method, type of RAPID symbol to search for, whether the search should be recursive, whether the symbols
are local and/or global, and whether or not the search result should include only symbols currently used by a program. If a property
is not valid for a particular symbol, it will be discarded and will not exclude the symbol from the search result.</p>
<p>The table describes the different properties of <code>RapidSymbolSearchProperties</code>.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SearchMethod</td>
<td>Specifies the direction of the search, which can be <code>Block</code> (down) or <code>Scope</code> (up). Example: If the starting point of the search is a routine, a block-search will return the symbols declared within the routine, whereas a scope-search will return the symbols accessible from the routine.</td>
</tr>
<tr>
<td>Types</td>
<td>Specifies which RAPID type(s) you want to search for. The <code>symbolTypes</code>  enumeration includes <code>Constant, Variable, Persistent, Function, Procedure, Trap, Module, Task, Routine, RapidData</code> and so on. (<code>Routine</code> includes <code>Function</code>, <code>Procedure</code> and <code>Trap</code>. <code>RapidData</code> includes <code>Constant</code>, <code>Variable</code> and <code>Persistent</code>.)</td>
</tr>
<tr>
<td>Recursive</td>
<td>For both block and scope search it is possible to choose if the search should stop at the next scope or block level or recursively continue until the root (or leaf) of the symbol table tree is reached.</td>
</tr>
<tr>
<td>GlobalSymbols</td>
<td>Specifies whether global symbols should be included.</td>
</tr>
<tr>
<td>LocalSymbols</td>
<td>Specifies whether local symbols should be included.</td>
</tr>
<tr>
<td>InUse</td>
<td>Specifies whether only symbols in use by the loaded RAPID program should be searched.</td>
</tr>
</tbody>
</table>
<h2 id="default-instance">Default instance</h2>
<p><code>RapidSymbolSearchProperties</code> has several static methods that return a default instance.</p>
<pre><code class="lang-csharp">RapidSymbolSearchProperties sProp = RapidSymbolSearchProperties.CreateDefault();
</code></pre>
<p>The default instance has the following values:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>SearchMethod</td>
<td>SymbolSearchMethod.Block</td>
</tr>
<tr>
<td>Types</td>
<td>SymbolTypes.NoSymbol</td>
</tr>
<tr>
<td>Recursive</td>
<td>True</td>
</tr>
<tr>
<td>GlobalSymbols</td>
<td>True</td>
</tr>
<tr>
<td>LocalSymbols</td>
<td>True</td>
</tr>
<tr>
<td>InUse</td>
<td>True</td>
</tr>
</tbody>
</table>
<p>Using this instance you can specify the search properties of the search you want to perform.</p>
<p>Example:</p>
<pre><code class="lang-csharp">sProp.SearchMethod = SymbolSearchMethod.Scope;
sProp.Types = SymbolTypes.Constant | SymbolTypes.Persistent
sProp.Recursive = false;
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The default instance has the property <code>Types</code> set to <code>NoSymbol</code>. It must be specified in order for a meaningful search to
be performed.</p>
</div>
<p>The <code>Types</code> property allows you to combine several types in a search. See the preceding example.
See <a class="xref" href="../../../../api/index.html">API Reference</a> for the static methods <code>CreateDefaultForData</code> and <code>CreateDefaultForRoutine</code>.</p>
<h2 id="data-type-argument">Data type argument</h2>
<p>The second argument of the <code>SearchRapidSymbol</code> method is the RAPID data type written as a string. The data type should be written
with small letters, for example “num”, “string” or “robtarget”. It can also be specified as <code>string.Empty</code>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>To search for a <code>UserDefined</code> data type, the complete path to the module that holds the RECORD definition must be passed.
For example:</p>
<pre><code class="lang-csharp">result = tRob1.SearchRapidSymbol(sProp, &quot;RAPID/T_ROB1/MyModule/MyDataType&quot;,
        string.Empty);
</code></pre>
<p>However, if <code>MyModule</code> is configured as <em>-Shared</em> the system sees its data types as installed, and the task or module should
be included in the path.</p>
<pre><code class="lang-csharp">result = tRob1.SearchRapidSymbol(sProp, &quot;MyDataType&quot;, string.Empty);
</code></pre>
</div>
<h2 id="symbol-name-argument">Symbol name argument</h2>
<p>The third argument is the name of the RAPID symbol. It can be specified as <code>string.Empty</code> if the name of the symbol to retrieve
is not known, or if the purpose is to search ALL “num” data in the system.</p>
<p>Instead of the name of the RAPID symbol a regular expression can be used. The search mechanism will then match the pattern of the
regular expression with the symbols in the symbol table. The regular expression string is not case sensitive.</p>
<p>A regular expression is a powerful mechanism. It may consist of ordinary characters and meta characters. A meta character is
an operator used to represent one or several ordinary characters, and the purpose is to extend the search.</p>
<p>Within a regular expression, all alphanumeric characters match themselves, that is, the pattern “abc” will only match a symbol
named “abc”. To match all symbol names containing the character sequence “abc”, it is necessary to add some meta characters.
The regular expression for this is “.*abc.*”.</p>
<p>The available meta character set is shown below:</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Meaning</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>Any single character</td>
<td></td>
</tr>
<tr>
<td>^</td>
<td>Any symbol starting with</td>
<td></td>
</tr>
<tr>
<td>[s]</td>
<td>Any single character in the non-empty set s, where s is a sequence of characters. Ranges may be specified as c-c.</td>
<td></td>
</tr>
<tr>
<td>[^s]</td>
<td>Any single character not in the set s.</td>
<td></td>
</tr>
<tr>
<td>r*</td>
<td>Zero or more occurrences of the regular expression r.</td>
<td></td>
</tr>
<tr>
<td>r+</td>
<td>One or more occurrences of the regular expression r.</td>
<td></td>
</tr>
<tr>
<td>r?</td>
<td>Zero or one occurrence of the regular expression r.</td>
<td></td>
</tr>
<tr>
<td>(r)</td>
<td>The regular expression r. Used for separate that regular expression from another.</td>
<td></td>
</tr>
<tr>
<td>r</td>
<td>r’</td>
<td>The regular expressions r or r’.</td>
</tr>
<tr>
<td>.*</td>
<td>Any character sequence (zero, one or several characters).</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="example-1">Example 1</h3>
<p>&quot;^c.*&quot;</p>
<p>Returns all symbols starting with c or C.</p>
<h3 id="example-2">Example 2</h3>
<p>&quot;^reg[1-3]&quot;</p>
<p>Returns reg1, Reg1, REG1, reg2, Reg2, REG2, reg3, Reg3 and REG3.</p>
<h3 id="example-3">Example 3</h3>
<p>&quot;^c.*|^reg[1,2]&quot;</p>
<p>Returns all symbols starting with c or C as well as reg1, Reg1, REG1, reg2, Reg2 and REG2.</p>
<h2 id="searchrapidsymbol-example">SearchRapidSymbol example</h2>
<p>This example searches for VAR, PERS or CONST num data in a task and its modules. The search is limited to globally declared symbols.
By default the search method is <code>Block</code>, so it does not have to be set.</p>
<pre><code class="lang-csharp">RapidSymbolSearchProperties sProp = RapidSymbolSearchProperties.CreateDefault();
sProp.Types = SymbolTypes.Data;
sProp.LocalSymbols = false;
RapidSymbol[] rsCol;
rsCol = aTask.SearchRapidSymbol(sProp, &quot;num&quot;, string.Empty);
</code></pre>
<h2 id="search-for-userdefined-rapid-data---example">Search for UserDefined RAPID data - example</h2>
<p>In this example a user defined RECORD data type (“mydata”) is declared in a module (“myModule”). Assuming that the end-user can
declare and use data of this data type in any program module, the search method must be Block (default). A search for all “mydata”
instances may look like this:</p>
<pre><code class="lang-csharp">RapidSymbolSearchProperties sProp = RapidSymbolSearchProperties.CreateDefault();
sProp.Types = SymbolTypes.Data;
RapidSymbol[] rsCol;
rsCol = aTask.SearchRapidSymbol(sProp, &quot;RAPID/T_ROB1/MyModule/mydata&quot;, string.Empty);
rsCol = aTask.SearchRapidSymbol(sProp, &quot;mydata&quot;, string.Empty);
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>If <code>myModule</code> is configured as <em>-Shared</em> and all <em>mydata</em> instances are declared in the search method must be set to <code>Scope</code> and
the <code>SearchRapidSymbol</code> call should look like this:</p>
<pre><code class="lang-csharp">rsCol = aTask.SearchRapidSymbol(sProp, &quot;mydata&quot;, string.Empty);
</code></pre>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © 2024 ABB</span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
